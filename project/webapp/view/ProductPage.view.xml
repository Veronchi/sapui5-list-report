<mvc:View xmlns:mvc="sap.ui.core.mvc"
  controllerName="veronchi.leverx.project.controller.ProductPage"
  xmlns="sap.uxap"
  xmlns:layout="sap.ui.layout"
  xmlns:tnt="sap.tnt"
  xmlns:m="sap.m"
  xmlns:f="sap.ui.layout.form"
  xmlns:core="sap.ui.core"
>
  <ObjectPageLayout id="ObjectPageLayout"
    showTitleInHeaderContent="true"
    showEditHeaderButton="false"
    upperCaseAnchorBar="false"
    showFooter="{editModel>/isEditMode}">
    <headerTitle>
      <ObjectPageDynamicHeaderTitle>
        <heading>
          <m:HBox>
            <m:Title text="{appModel>name}" wrapping="true" class="sapUiTinyMarginEnd" />

          </m:HBox>
        </heading>
        <expandedContent>
          <m:Text text="{appModel>description}" />
        </expandedContent>
        <actions>
          <m:Button text="Edit" type="Emphasized" press="onProductEdit"
            enabled="{= !${editModel>/isEditMode}}" />
          <m:Button type="Transparent" text="Delete" />
        </actions>
      </ObjectPageDynamicHeaderTitle>
    </headerTitle>

    <headerContent>
      <m:FlexBox wrap="Wrap">
        <layout:VerticalLayout>
          <m:HBox>
            <m:ObjectStatus
              text="{i18n>SaleText}"
              inverted="true"
              state="Success"
              visible="{= !!${appModel>discountDate}}"
              class="sapUiSmallMarginEnd"
            />
            <tnt:InfoLabel
              text="{i18n>NewText}"
              renderMode="Narrow"
              colorScheme="1"
              class="sapUiSmallMarginEnd"
              visible="{
                path: 'appModel>releaseDate',
                formatter: '.formatter.checkIfItsNewProduct'
              }"
            />
          </m:HBox>
        </layout:VerticalLayout>
        <layout:VerticalLayout class="sapUiSmallMarginEnd">
          <m:HBox>
            <m:Label
              text="{i18n>TotalTimeText}"
              showColon="true"
              labelFor="totalTime"
              design="Bold"
              vAlign="Middle"
              class="sapUiTinyMarginEnd"
            />
            <m:Text
              id="totalTime"
              text="{
                path: 'appModel>releaseDate',
                formatter: '.formatter.getDaysFromReleaseDate'
              }"
            />
          </m:HBox>
        </layout:VerticalLayout>
        <layout:VerticalLayout>
          <m:HBox>
            <m:Label
              text="{i18n>ProductColumnPrice}"
              showColon="true"
              labelFor="price"
              design="Bold"
              class="sapUiTinyMarginEnd"
              vAlign="Middle"
            />
            <m:Text
              id="price"
              text="{
              parts: ['appModel>price', 'appModel>currencyCode'],
              type: 'sap.ui.model.type.Currency',
              formatOptions: {
                currencyCode : false,
                decimals: 0
              }
            }" />
          </m:HBox>
        </layout:VerticalLayout>
      </m:FlexBox>
    </headerContent>
    <sections>
      <ObjectPageSection titleUppercase="false" title="{i18n>ProductDetails}">
        <subSections>
          <ObjectPageSubSection>
            <blocks>
              <core:Fragment
                fragmentName="veronchi.leverx.project.view.fragments.ProductDetails"
                type="XML" />
            </blocks>
          </ObjectPageSubSection>
        </subSections>
      </ObjectPageSection>

      <ObjectPageSection titleUppercase="false" title="{i18n>Suppliers}">
        <subSections>
          <ObjectPageSubSection>
            <blocks>
              <m:Text text="" />
            </blocks>
          </ObjectPageSubSection>
        </subSections>
      </ObjectPageSection>
      <ObjectPageSection titleUppercase="false" title="{i18n>Comments}">
        <subSections>
          <ObjectPageSubSection>
            <blocks>

            </blocks>
          </ObjectPageSubSection>
        </subSections>
      </ObjectPageSection>
    </sections>
    <footer>
      <m:OverflowToolbar>
        <m:ToolbarSpacer />
        <m:Button text="Save" type="Emphasized" press="onProductSave" />
        <m:Button text="Cancel" press="onProductEditCancel" />
      </m:OverflowToolbar>
    </footer>
  </ObjectPageLayout>
</mvc:View>